# GitLingo Backend - Environment Variables Example
# Copy this file to .env and fill in your values

# Server Configuration
PORT=3001
NODE_ENV=development # change to production in production environment

# CORS — comma-separated list of allowed frontend origins
# Default (when unset): http://localhost:5173
# In production this MUST be set, otherwise all real users will be blocked.
# Example: ALLOWED_ORIGINS=https://app.example.com,https://staging.example.com
# ALLOWED_ORIGINS=http://localhost:5173

# GitHub API Authentication (OPTIONAL but RECOMMENDED)
# Without token: 60 requests/hour
# With token: 5,000 requests/hour
# Get your token: https://github.com/settings/tokens
# Required scopes: repo, read:org, read:user, user:email
GITHUB_TOKEN=your_github_token_here

# GitHub GraphQL endpoint (OPTIONAL)
# Leave unset to use public GitHub (https://api.github.com/graphql).
# Set this only if you are pointing the app at a GitHub Enterprise Server (GHES)
# instance instead of github.com.
#
# Must be the full URL to the GraphQL endpoint, e.g.:
#   GRAPHQL_URL=https://ghe.your-company.com/api
#
# If the URL is unparseable the app falls back to github.com.
# GRAPHQL_URL=

# Logging
# Options: trace, debug, info, warn, error, fatal
LOG_LEVEL=info

# SQLite database path
# Path to the SQLite file used for caching and topsearch history.
# Relative paths are resolved from the directory where the process starts.
# The app creates the directory automatically if it does not exist.
# Use ':memory:' for an in-memory database (data lost on restart — useful for testing).
# In production, point this at a persistent volume outside the app directory,
# e.g. /var/db/gitlingo/gitlingo.db or a Docker-mounted path.
# Default: ./data/gitlingo.db
DB_PATH=./data/gitlingo.db

# Result Caching (OPTIONAL)
# Set ENABLE_CACHE=true to cache successful search results in SQLite.
# Cached results are served immediately on repeat searches within the TTL.
# Expired cache is served as a fallback when GitHub is unreachable.
# ENABLE_CACHE=false
# CACHE_TTL_HOURS=12

# Concurrency limit for in-flight GitHub API fetches (OPTIONAL)
# Requests that arrive when this many fetches are already in-flight are
# rejected immediately with 403 rate_limited instead of piling up.
# Default: 20
# CONCURRENCY_LIMIT=20
